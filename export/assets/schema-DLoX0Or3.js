var Es=Object.defineProperty;var $s=(n,e,t)=>e in n?Es(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var i=(n,e,t)=>$s(n,typeof e!="symbol"?e+"":e,t);import{c as Os}from"./index-DKjY2bf7.js";import{z as w}from"./index-C2yVVeig.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Os("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),s=Symbol.for("drizzle:entityKind");function S(n,e){if(!n||typeof n!="object")return!1;if(n instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,s))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let t=Object.getPrototypeOf(n).constructor;if(t)for(;t;){if(s in t&&t[s]===e[s])return!0;t=Object.getPrototypeOf(t)}return!1}var ue;ue=s;class v{constructor(e,t){i(this,"name");i(this,"keyAsName");i(this,"primary");i(this,"notNull");i(this,"default");i(this,"defaultFn");i(this,"onUpdateFn");i(this,"hasDefault");i(this,"isUnique");i(this,"uniqueName");i(this,"uniqueType");i(this,"dataType");i(this,"columnType");i(this,"enumValues");i(this,"generated");i(this,"generatedIdentity");i(this,"config");this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}i(v,ue,"Column");var le;le=s;class Wr{constructor(e,t,r){i(this,"config");i(this,"$default",this.$defaultFn);i(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}i(Wr,le,"ColumnBuilder");const F=Symbol.for("drizzle:Name");var ce;ce=s;class Hr{constructor(e,t){i(this,"reference");i(this,"_onUpdate","no action");i(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:a,foreignColumns:o}=e();return{name:r,columns:a,foreignTable:o[0].table,foreignColumns:o}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new Yr(e,this)}}i(Hr,ce,"PgForeignKeyBuilder");var de;de=s;class Yr{constructor(e,t){i(this,"reference");i(this,"onUpdate");i(this,"onDelete");this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}getName(){const{name:e,columns:t,foreignColumns:r}=this.reference(),a=t.map(g=>g.name),o=r.map(g=>g.name),l=[this.table[F],...a,r[0].table[F],...o];return e??`${l.join("_")}_fk`}}i(Yr,de,"PgForeignKey");function Xs(n,...e){return n(...e)}function Gs(n,e){return`${n[F]}_${e.join("_")}_unique`}function te(n,e,t){for(let r=e;r<n.length;r++){const a=n[r];if(a==="\\"){r++;continue}if(a==='"')return[n.slice(e,r).replace(/\\/g,""),r+1];if(!t&&(a===","||a==="}"))return[n.slice(e,r).replace(/\\/g,""),r]}return[n.slice(e).replace(/\\/g,""),n.length]}function Zr(n,e=0){const t=[];let r=e,a=!1;for(;r<n.length;){const o=n[r];if(o===","){(a||r===e)&&t.push(""),a=!0,r++;continue}if(a=!1,o==="\\"){r+=2;continue}if(o==='"'){const[m,h]=te(n,r+1,!0);t.push(m),r=h;continue}if(o==="}")return[t,r+1];if(o==="{"){const[m,h]=Zr(n,r+1);t.push(m),r=h;continue}const[l,g]=te(n,r,!1);t.push(l),r=g}return[t,r]}function Ks(n){const[e]=Zr(n,1);return e}function kr(n){return`{${n.map(e=>Array.isArray(e)?kr(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var me,ge;class d extends(ge=Wr,me=s,ge){constructor(){super(...arguments);i(this,"foreignKeyConfigs",[])}array(t){return new ti(this.config.name,this,t)}references(t,r={}){return this.foreignKeyConfigs.push({ref:t,actions:r}),this}unique(t,r){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,r){return this.foreignKeyConfigs.map(({ref:a,actions:o})=>Xs((l,g)=>{const m=new Hr(()=>{const h=l();return{columns:[t],foreignColumns:[h]}});return g.onUpdate&&m.onUpdate(g.onUpdate),g.onDelete&&m.onDelete(g.onDelete),m.build(r)},a,o))}buildExtraConfigColumn(t){return new ei(t,this.config)}}i(d,me,"PgColumnBuilder");var fe,pe;class c extends(pe=v,fe=s,pe){constructor(e,t){t.uniqueName||(t.uniqueName=Gs(e,[t.name])),super(e,t),this.table=e}}i(c,fe,"PgColumn");var he,ye;class ei extends(ye=c,he=s,ye){constructor(){super(...arguments);i(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});i(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}i(ei,he,"ExtraConfigColumn");var be;be=s;class j{constructor(e,t,r,a){i(this,"name");i(this,"keyAsName");i(this,"type");i(this,"indexConfig");this.name=e,this.keyAsName=t,this.type=r,this.indexConfig=a}}i(j,be,"IndexedColumn");var Ne,Se;class ti extends(Se=d,Ne=s,Se){constructor(e,t,r){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=r}build(e){const t=this.config.baseBuilder.build(e);return new H(e,this.config,t)}}i(ti,Ne,"PgArrayBuilder");var Te,we;const X=class X extends(we=c,Te=s,we){constructor(t,r,a,o){super(t,r);i(this,"size");this.baseColumn=a,this.range=o,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=Ks(t)),t.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(t,r=!1){const a=t.map(o=>o===null?null:S(this.baseColumn,X)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return r?a:kr(a)}};i(X,Te,"PgArray");let H=X;const ne=Symbol.for("drizzle:isPgEnum");function Js(n){return!!n&&typeof n=="function"&&ne in n&&n[ne]===!0}var Pe;Pe=s;class Z{constructor(e,t,r,a=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:r,isWith:a}}}i(Z,Pe,"Subquery");const Rs={startActiveSpan(n,e){return e()}},q=Symbol.for("drizzle:ViewBaseConfig"),J=Symbol.for("drizzle:Schema"),re=Symbol.for("drizzle:Columns"),ie=Symbol.for("drizzle:ExtraConfigColumns"),R=Symbol.for("drizzle:OriginalName"),W=Symbol.for("drizzle:BaseName"),E=Symbol.for("drizzle:IsAlias"),se=Symbol.for("drizzle:ExtraConfigBuilder"),ni=Symbol.for("drizzle:IsDrizzleTable");var Ie,xe,Ce,De,_e,Ae,Be,Ve,Fe,qe;qe=s,Fe=F,Ve=R,Be=J,Ae=re,_e=ie,De=W,Ce=E,xe=ni,Ie=se;class x{constructor(e,t,r){i(this,Fe);i(this,Ve);i(this,Be);i(this,Ae);i(this,_e);i(this,De);i(this,Ce,!1);i(this,xe,!0);i(this,Ie);this[F]=this[R]=e,this[J]=t,this[W]=r}}i(x,qe,"Table"),i(x,"Symbol",{Name:F,Schema:J,OriginalName:R,Columns:re,ExtraConfigColumns:ie,BaseName:W,IsAlias:E,ExtraConfigBuilder:se});function ri(n){return typeof n=="object"&&n!==null&&ni in n}function Ws(n){return n!=null&&typeof n.getSQL=="function"}function Hs(n){var t;const e={sql:"",params:[]};for(const r of n)e.sql+=r.sql,e.params.push(...r.params),(t=r.typings)!=null&&t.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var ve;ve=s;class D{constructor(e){i(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new b([this])}}i(D,ve,"StringChunk");var ze;ze=s;const B=class B{constructor(e){i(this,"decoder",ii);i(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Rs.startActiveSpan("drizzle.buildSQL",t=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return t==null||t.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,t){const r=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:a,escapeName:o,escapeParam:l,prepareTyping:g,inlineParams:m,paramStartIndex:h}=r;return Hs(e.map(u=>{var _;if(S(u,D))return{sql:u.value.join(""),params:[]};if(S(u,$))return{sql:o(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const p=[new D("(")];for(const[T,Us]of u.entries())p.push(Us),T<u.length-1&&p.push(new D(", "));return p.push(new D(")")),this.buildQueryFromSourceParams(p,r)}if(S(u,B))return this.buildQueryFromSourceParams(u.queryChunks,{...r,inlineParams:m||u.shouldInlineParams});if(S(u,x)){const p=u[x.Symbol.Schema],T=u[x.Symbol.Name];return{sql:p===void 0||u[E]?o(T):o(p)+"."+o(T),params:[]}}if(S(u,v)){const p=a.getColumnCasing(u);if(t.invokeSource==="indexes")return{sql:o(p),params:[]};const T=u.table[x.Symbol.Schema];return{sql:u.table[E]||T===void 0?o(u.table[x.Symbol.Name])+"."+o(p):o(T)+"."+o(u.table[x.Symbol.Name])+"."+o(p),params:[]}}if(S(u,oi)){const p=u[q].schema,T=u[q].name;return{sql:p===void 0||u[q].isAlias?o(T):o(p)+"."+o(T),params:[]}}if(S(u,k)){if(S(u.value,O))return{sql:l(h.value++,u),params:[u],typings:["none"]};const p=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(S(p,B))return this.buildQueryFromSourceParams([p],r);if(m)return{sql:this.mapInlineParam(p,r),params:[]};let T=["none"];return g&&(T=[g(u.encoder)]),{sql:l(h.value++,p),params:[p],typings:T}}return S(u,O)?{sql:l(h.value++,u),params:[u],typings:["none"]}:S(u,B.Aliased)&&u.fieldAlias!==void 0?{sql:o(u.fieldAlias),params:[]}:S(u,Z)?u._.isWith?{sql:o(u._.alias),params:[]}:this.buildQueryFromSourceParams([new D("("),u._.sql,new D(") "),new $(u._.alias)],r):Js(u)?u.schema?{sql:o(u.schema)+"."+o(u.enumName),params:[]}:{sql:o(u.enumName),params:[]}:Ws(u)?(_=u.shouldOmitSQLParens)!=null&&_.call(u)?this.buildQueryFromSourceParams([u.getSQL()],r):this.buildQueryFromSourceParams([new D("("),u.getSQL(),new D(")")],r):m?{sql:this.mapInlineParam(u,r),params:[]}:{sql:l(h.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:t}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return t(e);if(typeof e=="object"){const r=e.toString();return t(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new B.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};i(B,ze,"SQL");let b=B;var Le;Le=s;class ${constructor(e){i(this,"brand");this.value=e}getSQL(){return new b([this])}}i($,Le,"Name");const ii={mapFromDriverValue:n=>n},si={mapToDriverValue:n=>n};({...ii,...si});var Qe;Qe=s;class k{constructor(e,t=si){i(this,"brand");this.value=e,this.encoder=t}getSQL(){return new b([this])}}i(k,Qe,"Param");function A(n,...e){const t=[];(e.length>0||n.length>0&&n[0]!=="")&&t.push(new D(n[0]));for(const[r,a]of e.entries())t.push(a,new D(n[r+1]));return new b(t)}(n=>{function e(){return new b([])}n.empty=e;function t(m){return new b(m)}n.fromList=t;function r(m){return new b([new D(m)])}n.raw=r;function a(m,h){const u=[];for(const[_,p]of m.entries())_>0&&h!==void 0&&u.push(h),u.push(p);return new b(u)}n.join=a;function o(m){return new $(m)}n.identifier=o;function l(m){return new O(m)}n.placeholder=l;function g(m,h){return new k(m,h)}n.param=g})(A||(A={}));(n=>{var t;t=s;const r=class r{constructor(o,l){i(this,"isSelectionField",!1);this.sql=o,this.fieldAlias=l}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};i(r,t,"SQL.Aliased");let e=r;n.Aliased=e})(b||(b={}));var Me;Me=s;class O{constructor(e){this.name=e}getSQL(){return new b([this])}}i(O,Me,"Placeholder");const ai=Symbol.for("drizzle:IsDrizzleView");var je,Ue,Ee;Ee=s,Ue=q,je=ai;class oi{constructor({name:e,schema:t,selectedFields:r,query:a}){i(this,Ue);i(this,je,!0);this[q]={name:e,originalName:e,schema:t,selectedFields:r,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new b([this])}}i(oi,Ee,"View");function Ys(n){return typeof n=="object"&&n!==null&&ai in n}v.prototype.getSQL=function(){return new b([this])};x.prototype.getSQL=function(){return new b([this])};Z.prototype.getSQL=function(){return new b([this])};function Zs(n){return n[x.Symbol.Columns]}function ks(n){return n[q].selectedFields}function P(n,e){return{name:typeof n=="string"&&n.length>0?n:"",config:typeof n=="object"?n:e}}var $e,Oe;class M extends(Oe=d,$e=s,Oe){generatedAlwaysAsIdentity(e){if(e){const{name:t,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:t,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}i(M,$e,"PgIntColumnBaseBuilder");var Xe,Ge;class ui extends(Ge=M,Xe=s,Ge){constructor(e){super(e,"number","PgBigInt53")}build(e){return new li(e,this.config)}}i(ui,Xe,"PgBigInt53Builder");var Ke,Je;class li extends(Je=c,Ke=s,Je){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}i(li,Ke,"PgBigInt53");var Re,We;class ci extends(We=M,Re=s,We){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new di(e,this.config)}}i(ci,Re,"PgBigInt64Builder");var He,Ye;class di extends(Ye=c,He=s,Ye){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}i(di,He,"PgBigInt64");function ea(n,e){const{name:t,config:r}=P(n,e);return r.mode==="number"?new ui(t):new ci(t)}var Ze,ke;class mi extends(ke=d,Ze=s,ke){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new gi(e,this.config)}}i(mi,Ze,"PgBigSerial53Builder");var et,tt;class gi extends(tt=c,et=s,tt){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}i(gi,et,"PgBigSerial53");var nt,rt;class fi extends(rt=d,nt=s,rt){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new pi(e,this.config)}}i(fi,nt,"PgBigSerial64Builder");var it,st;class pi extends(st=c,it=s,st){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}i(pi,it,"PgBigSerial64");function ta(n,e){const{name:t,config:r}=P(n,e);return r.mode==="number"?new mi(t):new fi(t)}var at,ot;class hi extends(ot=d,at=s,ot){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new yi(e,this.config)}}i(hi,at,"PgBooleanBuilder");var ut,lt;class yi extends(lt=c,ut=s,lt){getSQLType(){return"boolean"}}i(yi,ut,"PgBoolean");function G(n){return new hi(n??"")}var ct,dt;class bi extends(dt=d,ct=s,dt){constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new Ni(e,this.config)}}i(bi,ct,"PgCharBuilder");var mt,gt;class Ni extends(gt=c,mt=s,gt){constructor(){super(...arguments);i(this,"length",this.config.length);i(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}i(Ni,mt,"PgChar");function na(n,e={}){const{name:t,config:r}=P(n,e);return new bi(t,r)}var ft,pt;class Si extends(pt=d,ft=s,pt){constructor(e){super(e,"string","PgCidr")}build(e){return new Ti(e,this.config)}}i(Si,ft,"PgCidrBuilder");var ht,yt;class Ti extends(yt=c,ht=s,yt){getSQLType(){return"cidr"}}i(Ti,ht,"PgCidr");function ra(n){return new Si(n??"")}var bt,Nt;class wi extends(Nt=d,bt=s,Nt){constructor(e,t,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new Pi(e,this.config)}}i(wi,bt,"PgCustomColumnBuilder");var St,Tt;class Pi extends(Tt=c,St=s,Tt){constructor(t,r){super(t,r);i(this,"sqlName");i(this,"mapTo");i(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}i(Pi,St,"PgCustomColumn");function ia(n){return(e,t)=>{const{name:r,config:a}=P(e,t);return new wi(r,a,n)}}var wt,Pt;class L extends(Pt=d,wt=s,Pt){defaultNow(){return this.default(A`now()`)}}i(L,wt,"PgDateColumnBaseBuilder");var It,xt;class Ii extends(xt=L,It=s,xt){constructor(e){super(e,"date","PgDate")}build(e){return new xi(e,this.config)}}i(Ii,It,"PgDateBuilder");var Ct,Dt;class xi extends(Dt=c,Ct=s,Dt){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}i(xi,Ct,"PgDate");var _t,At;class Ci extends(At=L,_t=s,At){constructor(e){super(e,"string","PgDateString")}build(e){return new Di(e,this.config)}}i(Ci,_t,"PgDateStringBuilder");var Bt,Vt;class Di extends(Vt=c,Bt=s,Vt){getSQLType(){return"date"}}i(Di,Bt,"PgDateString");function sa(n,e){const{name:t,config:r}=P(n,e);return(r==null?void 0:r.mode)==="date"?new Ii(t):new Ci(t)}var Ft,qt;class _i extends(qt=d,Ft=s,qt){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new Ai(e,this.config)}}i(_i,Ft,"PgDoublePrecisionBuilder");var vt,zt;class Ai extends(zt=c,vt=s,zt){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}i(Ai,vt,"PgDoublePrecision");function aa(n){return new _i(n??"")}var Lt,Qt;class Bi extends(Qt=d,Lt=s,Qt){constructor(e){super(e,"string","PgInet")}build(e){return new Vi(e,this.config)}}i(Bi,Lt,"PgInetBuilder");var Mt,jt;class Vi extends(jt=c,Mt=s,jt){getSQLType(){return"inet"}}i(Vi,Mt,"PgInet");function oa(n){return new Bi(n??"")}var Ut,Et;class Fi extends(Et=M,Ut=s,Et){constructor(e){super(e,"number","PgInteger")}build(e){return new qi(e,this.config)}}i(Fi,Ut,"PgIntegerBuilder");var $t,Ot;class qi extends(Ot=c,$t=s,Ot){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}i(qi,$t,"PgInteger");function vi(n){return new Fi(n??"")}var Xt,Gt;class zi extends(Gt=d,Xt=s,Gt){constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new Li(e,this.config)}}i(zi,Xt,"PgIntervalBuilder");var Kt,Jt;class Li extends(Jt=c,Kt=s,Jt){constructor(){super(...arguments);i(this,"fields",this.config.intervalConfig.fields);i(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const t=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${t}${r}`}}i(Li,Kt,"PgInterval");function ua(n,e={}){const{name:t,config:r}=P(n,e);return new zi(t,r)}var Rt,Wt;class Qi extends(Wt=d,Rt=s,Wt){constructor(e){super(e,"json","PgJson")}build(e){return new Mi(e,this.config)}}i(Qi,Rt,"PgJsonBuilder");var Ht,Yt;class Mi extends(Yt=c,Ht=s,Yt){constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}i(Mi,Ht,"PgJson");function la(n){return new Qi(n??"")}var Zt,kt;class ji extends(kt=d,Zt=s,kt){constructor(e){super(e,"json","PgJsonb")}build(e){return new Ui(e,this.config)}}i(ji,Zt,"PgJsonbBuilder");var en,tn;class Ui extends(tn=c,en=s,tn){constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}i(Ui,en,"PgJsonb");function Ei(n){return new ji(n??"")}var nn,rn;class $i extends(rn=d,nn=s,rn){constructor(e){super(e,"array","PgLine")}build(e){return new Oi(e,this.config)}}i($i,nn,"PgLineBuilder");var sn,an;class Oi extends(an=c,sn=s,an){getSQLType(){return"line"}mapFromDriverValue(e){const[t,r,a]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r),Number.parseFloat(a)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}i(Oi,sn,"PgLine");var on,un;class Xi extends(un=d,on=s,un){constructor(e){super(e,"json","PgLineABC")}build(e){return new Gi(e,this.config)}}i(Xi,on,"PgLineABCBuilder");var ln,cn;class Gi extends(cn=c,ln=s,cn){getSQLType(){return"line"}mapFromDriverValue(e){const[t,r,a]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(r),c:Number.parseFloat(a)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}i(Gi,ln,"PgLineABC");function ca(n,e){const{name:t,config:r}=P(n,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new $i(t):new Xi(t)}var dn,mn;class Ki extends(mn=d,dn=s,mn){constructor(e){super(e,"string","PgMacaddr")}build(e){return new Ji(e,this.config)}}i(Ki,dn,"PgMacaddrBuilder");var gn,fn;class Ji extends(fn=c,gn=s,fn){getSQLType(){return"macaddr"}}i(Ji,gn,"PgMacaddr");function da(n){return new Ki(n??"")}var pn,hn;class Ri extends(hn=d,pn=s,hn){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new Wi(e,this.config)}}i(Ri,pn,"PgMacaddr8Builder");var yn,bn;class Wi extends(bn=c,yn=s,bn){getSQLType(){return"macaddr8"}}i(Wi,yn,"PgMacaddr8");function ma(n){return new Ri(n??"")}var Nn,Sn;class Hi extends(Sn=d,Nn=s,Sn){constructor(e,t,r){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=r}build(e){return new Yi(e,this.config)}}i(Hi,Nn,"PgNumericBuilder");var Tn,wn;class Yi extends(wn=c,Tn=s,wn){constructor(t,r){super(t,r);i(this,"precision");i(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}i(Yi,Tn,"PgNumeric");function ga(n,e){const{name:t,config:r}=P(n,e);return new Hi(t,r==null?void 0:r.precision,r==null?void 0:r.scale)}var Pn,In;class Zi extends(In=d,Pn=s,In){constructor(e){super(e,"array","PgPointTuple")}build(e){return new ki(e,this.config)}}i(Zi,Pn,"PgPointTupleBuilder");var xn,Cn;class ki extends(Cn=c,xn=s,Cn){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[t,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}i(ki,xn,"PgPointTuple");var Dn,_n;class es extends(_n=d,Dn=s,_n){constructor(e){super(e,"json","PgPointObject")}build(e){return new ts(e,this.config)}}i(es,Dn,"PgPointObjectBuilder");var An,Bn;class ts extends(Bn=c,An=s,Bn){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[t,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}i(ts,An,"PgPointObject");function fa(n,e){const{name:t,config:r}=P(n,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new Zi(t):new es(t)}function pa(n){const e=[];for(let t=0;t<n.length;t+=2)e.push(Number.parseInt(n.slice(t,t+2),16));return new Uint8Array(e)}function ae(n,e){const t=new ArrayBuffer(8),r=new DataView(t);for(let a=0;a<8;a++)r.setUint8(a,n[e+a]);return r.getFloat64(0,!0)}function ns(n){const e=pa(n);let t=0;const r=e[t];t+=1;const a=new DataView(e.buffer),o=a.getUint32(t,r===1);if(t+=4,o&536870912&&(a.getUint32(t,r===1),t+=4),(o&65535)===1){const l=ae(e,t);t+=8;const g=ae(e,t);return t+=8,[l,g]}throw new Error("Unsupported geometry type")}var Vn,Fn;class rs extends(Fn=d,Vn=s,Fn){constructor(e){super(e,"array","PgGeometry")}build(e){return new is(e,this.config)}}i(rs,Vn,"PgGeometryBuilder");var qn,vn;class is extends(vn=c,qn=s,vn){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return ns(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}i(is,qn,"PgGeometry");var zn,Ln;class ss extends(Ln=d,zn=s,Ln){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new as(e,this.config)}}i(ss,zn,"PgGeometryObjectBuilder");var Qn,Mn;class as extends(Mn=c,Qn=s,Mn){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const t=ns(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}i(as,Qn,"PgGeometryObject");function ha(n,e){const{name:t,config:r}=P(n,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new rs(t):new ss(t)}var jn,Un;class os extends(Un=d,jn=s,Un){constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new us(e,this.config)}}i(os,jn,"PgRealBuilder");var En,$n;class us extends($n=c,En=s,$n){constructor(t,r){super(t,r);i(this,"mapFromDriverValue",t=>typeof t=="string"?Number.parseFloat(t):t)}getSQLType(){return"real"}}i(us,En,"PgReal");function ya(n){return new os(n??"")}var On,Xn;class ls extends(Xn=d,On=s,Xn){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new cs(e,this.config)}}i(ls,On,"PgSerialBuilder");var Gn,Kn;class cs extends(Kn=c,Gn=s,Kn){getSQLType(){return"serial"}}i(cs,Gn,"PgSerial");function ba(n){return new ls(n??"")}var Jn,Rn;class ds extends(Rn=M,Jn=s,Rn){constructor(e){super(e,"number","PgSmallInt")}build(e){return new ms(e,this.config)}}i(ds,Jn,"PgSmallIntBuilder");var Wn,Hn;class ms extends(Hn=c,Wn=s,Hn){constructor(){super(...arguments);i(this,"mapFromDriverValue",t=>typeof t=="string"?Number(t):t)}getSQLType(){return"smallint"}}i(ms,Wn,"PgSmallInt");function Na(n){return new ds(n??"")}var Yn,Zn;class gs extends(Zn=d,Yn=s,Zn){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new fs(e,this.config)}}i(gs,Yn,"PgSmallSerialBuilder");var kn,er;class fs extends(er=c,kn=s,er){getSQLType(){return"smallserial"}}i(fs,kn,"PgSmallSerial");function Sa(n){return new gs(n??"")}var tr,nr;class ps extends(nr=d,tr=s,nr){constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new hs(e,this.config)}}i(ps,tr,"PgTextBuilder");var rr,ir;class hs extends(ir=c,rr=s,ir){constructor(){super(...arguments);i(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}i(hs,rr,"PgText");function I(n,e={}){const{name:t,config:r}=P(n,e);return new ps(t,r)}var sr,ar;class ys extends(ar=L,sr=s,ar){constructor(e,t,r){super(e,"string","PgTime"),this.withTimezone=t,this.precision=r,this.config.withTimezone=t,this.config.precision=r}build(e){return new bs(e,this.config)}}i(ys,sr,"PgTimeBuilder");var or,ur;class bs extends(ur=c,or=s,ur){constructor(t,r){super(t,r);i(this,"withTimezone");i(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}i(bs,or,"PgTime");function Ta(n,e={}){const{name:t,config:r}=P(n,e);return new ys(t,r.withTimezone??!1,r.precision)}var lr,cr;class Ns extends(cr=L,lr=s,cr){constructor(e,t,r){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=r}build(e){return new Ss(e,this.config)}}i(Ns,lr,"PgTimestampBuilder");var dr,mr;class Ss extends(mr=c,dr=s,mr){constructor(t,r){super(t,r);i(this,"withTimezone");i(this,"precision");i(this,"mapFromDriverValue",t=>new Date(this.withTimezone?t:t+"+0000"));i(this,"mapToDriverValue",t=>t.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}i(Ss,dr,"PgTimestamp");var gr,fr;class Ts extends(fr=L,gr=s,fr){constructor(e,t,r){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=r}build(e){return new ws(e,this.config)}}i(Ts,gr,"PgTimestampStringBuilder");var pr,hr;class ws extends(hr=c,pr=s,hr){constructor(t,r){super(t,r);i(this,"withTimezone");i(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}i(ws,pr,"PgTimestampString");function C(n,e={}){const{name:t,config:r}=P(n,e);return(r==null?void 0:r.mode)==="string"?new Ts(t,r.withTimezone??!1,r.precision):new Ns(t,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var yr,br;class Ps extends(br=d,yr=s,br){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(A`gen_random_uuid()`)}build(e){return new Is(e,this.config)}}i(Ps,yr,"PgUUIDBuilder");var Nr,Sr;class Is extends(Sr=c,Nr=s,Sr){getSQLType(){return"uuid"}}i(Is,Nr,"PgUUID");function wa(n){return new Ps(n??"")}var Tr,wr;class xs extends(wr=d,Tr=s,wr){constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new Cs(e,this.config)}}i(xs,Tr,"PgVarcharBuilder");var Pr,Ir;class Cs extends(Ir=c,Pr=s,Ir){constructor(){super(...arguments);i(this,"length",this.config.length);i(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}i(Cs,Pr,"PgVarchar");function f(n,e={}){const{name:t,config:r}=P(n,e);return new xs(t,r)}var xr,Cr;class Ds extends(Cr=d,xr=s,Cr){constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new _s(e,this.config)}}i(Ds,xr,"PgBinaryVectorBuilder");var Dr,_r;class _s extends(_r=c,Dr=s,_r){constructor(){super(...arguments);i(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}i(_s,Dr,"PgBinaryVector");function Pa(n,e){const{name:t,config:r}=P(n,e);return new Ds(t,r)}var Ar,Br;class As extends(Br=d,Ar=s,Br){constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new Bs(e,this.config)}}i(As,Ar,"PgHalfVectorBuilder");var Vr,Fr;class Bs extends(Fr=c,Vr=s,Fr){constructor(){super(...arguments);i(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}i(Bs,Vr,"PgHalfVector");function Ia(n,e){const{name:t,config:r}=P(n,e);return new As(t,r)}var qr,vr;class Vs extends(vr=d,qr=s,vr){constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new Fs(e,this.config)}}i(Vs,qr,"PgSparseVectorBuilder");var zr,Lr;class Fs extends(Lr=c,zr=s,Lr){constructor(){super(...arguments);i(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}i(Fs,zr,"PgSparseVector");function xa(n,e){const{name:t,config:r}=P(n,e);return new Vs(t,r)}var Qr,Mr;class qs extends(Mr=d,Qr=s,Mr){constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new vs(e,this.config)}}i(qs,Qr,"PgVectorBuilder");var jr,Ur;class vs extends(Ur=c,jr=s,Ur){constructor(){super(...arguments);i(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}i(vs,jr,"PgVector");function Ca(n,e){const{name:t,config:r}=P(n,e);return new qs(t,r)}function Da(){return{bigint:ea,bigserial:ta,boolean:G,char:na,cidr:ra,customType:ia,date:sa,doublePrecision:aa,inet:oa,integer:vi,interval:ua,json:la,jsonb:Ei,line:ca,macaddr:da,macaddr8:ma,numeric:ga,point:fa,geometry:ha,real:ya,serial:ba,smallint:Na,smallserial:Sa,text:I,time:Ta,timestamp:C,uuid:wa,varchar:f,bit:Pa,halfvec:Ia,sparsevec:xa,vector:Ca}}const Y=Symbol.for("drizzle:PgInlineForeignKeys"),oe=Symbol.for("drizzle:EnableRLS");var Er,$r,Or,Xr,Gr;class Q extends(Gr=x,Xr=s,Or=Y,$r=oe,Er=x.Symbol.ExtraConfigBuilder,Gr){constructor(){super(...arguments);i(this,Or,[]);i(this,$r,!1);i(this,Er)}}i(Q,Xr,"PgTable"),i(Q,"Symbol",Object.assign({},x.Symbol,{InlineForeignKeys:Y,EnableRLS:oe}));function _a(n,e,t,r,a=n){const o=new Q(n,r,a),l=typeof e=="function"?e(Da()):e,g=Object.fromEntries(Object.entries(l).map(([u,_])=>{const p=_;p.setName(u);const T=p.build(o);return o[Y].push(...p.buildForeignKeys(T,o)),[u,T]})),m=Object.fromEntries(Object.entries(l).map(([u,_])=>{const p=_;p.setName(u);const T=p.buildExtraConfigColumn(o);return[u,T]})),h=Object.assign(o,g);return h[x.Symbol.Columns]=g,h[x.Symbol.ExtraConfigColumns]=m,t&&(h[Q.Symbol.ExtraConfigBuilder]=t),Object.assign(h,{enableRLS:()=>(h[Q.Symbol.EnableRLS]=!0,h)})}const V=(n,e,t)=>_a(n,e,t,void 0);var Kr;Kr=s;class zs{constructor(e,t){this.unique=e,this.name=t}on(...e){return new U(e.map(t=>{if(S(t,b))return t;t=t;const r=new j(t.name,!!t.keyAsName,t.columnType,t.indexConfig);return t.indexConfig=JSON.parse(JSON.stringify(t.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new U(e.map(t=>{if(S(t,b))return t;t=t;const r=new j(t.name,!!t.keyAsName,t.columnType,t.indexConfig);return t.indexConfig=t.defaultConfig,r}),this.unique,!0,this.name)}using(e,...t){return new U(t.map(r=>{if(S(r,b))return r;r=r;const a=new j(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),a}),this.unique,!0,this.name,e)}}i(zs,Kr,"PgIndexBuilderOn");var Jr;Jr=s;class U{constructor(e,t,r,a,o="btree"){i(this,"config");this.config={name:a,columns:e,unique:t,only:r,method:o}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new Ls(this.config,e)}}i(U,Jr,"PgIndexBuilder");var Rr;Rr=s;class Ls{constructor(e,t){i(this,"config");this.config={...e,table:t}}}i(Ls,Rr,"PgIndex");function Aa(n){return new zs(!1,n)}const y={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function N(n,e){return e.includes(n.columnType)}function Ba(n){return"enumValues"in n&&Array.isArray(n.enumValues)&&n.enumValues.length>0}const Va=w.union([w.string(),w.number(),w.boolean(),w.null()]),Fa=w.union([Va,w.record(w.any()),w.array(w.any())]),qa=w.custom(n=>n instanceof Buffer);function Qs(n,e){const t=(e==null?void 0:e.zodInstance)??w,r=(e==null?void 0:e.coerce)??{};let a;return Ba(n)&&(a=n.enumValues.length?t.enum(n.enumValues):t.string()),a||(N(n,["PgGeometry","PgPointTuple"])?a=t.tuple([t.number(),t.number()]):N(n,["PgGeometryObject","PgPointObject"])?a=t.object({x:t.number(),y:t.number()}):N(n,["PgHalfVector","PgVector"])?(a=t.array(t.number()),a=n.dimensions?a.length(n.dimensions):a):N(n,["PgLine"])?a=t.tuple([t.number(),t.number(),t.number()]):N(n,["PgLineABC"])?a=t.object({a:t.number(),b:t.number(),c:t.number()}):N(n,["PgArray"])?(a=t.array(Qs(n.baseColumn,t)),a=n.size?a.length(n.size):a):n.dataType==="array"?a=t.array(t.any()):n.dataType==="number"?a=va(n,t,r):n.dataType==="bigint"?a=za(n,t,r):n.dataType==="boolean"?a=r===!0||r.boolean?t.coerce.boolean():t.boolean():n.dataType==="date"?a=r===!0||r.date?t.coerce.date():t.date():n.dataType==="string"?a=La(n,t,r):n.dataType==="json"?a=Fa:n.dataType==="custom"?a=t.any():n.dataType==="buffer"&&(a=qa)),a||(a=t.any()),a}function va(n,e,t){let r=n.getSQLType().includes("unsigned"),a,o,l=!1;N(n,["MySqlTinyInt","SingleStoreTinyInt"])?(a=r?0:y.INT8_MIN,o=r?y.INT8_UNSIGNED_MAX:y.INT8_MAX,l=!0):N(n,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=r?0:y.INT16_MIN,o=r?y.INT16_UNSIGNED_MAX:y.INT16_MAX,l=!0):N(n,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=r?0:y.INT24_MIN,o=r?y.INT24_UNSIGNED_MAX:y.INT24_MAX,l=N(n,["MySqlMediumInt","SingleStoreMediumInt"])):N(n,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=r?0:y.INT32_MIN,o=r?y.INT32_UNSIGNED_MAX:y.INT32_MAX,l=!0):N(n,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=r?0:y.INT48_MIN,o=r?y.INT48_UNSIGNED_MAX:y.INT48_MAX):N(n,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||N(n,["MySqlSerial","SingleStoreSerial"]),a=r?0:Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,l=!0):N(n,["MySqlYear","SingleStoreYear"])?(a=1901,o=2155,l=!0):(a=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER);let g=t===!0||t!=null&&t.number?e.coerce.number():e.number();return g=g.min(a).max(o),l?g.int():g}function za(n,e,t){const r=n.getSQLType().includes("unsigned"),a=r?0n:y.INT64_MIN,o=r?y.INT64_UNSIGNED_MAX:y.INT64_MAX;return(t===!0||t!=null&&t.bigint?e.coerce.bigint():e.bigint()).min(a).max(o)}function La(n,e,t){if(N(n,["PgUUID"]))return e.string().uuid();let r,a,o=!1;N(n,["PgVarchar","SQLiteText"])?r=n.length:N(n,["MySqlVarChar","SingleStoreVarChar"])?r=n.length??y.INT16_UNSIGNED_MAX:N(n,["MySqlText","SingleStoreText"])&&(n.textType==="longtext"?r=y.INT32_UNSIGNED_MAX:n.textType==="mediumtext"?r=y.INT24_UNSIGNED_MAX:n.textType==="text"?r=y.INT16_UNSIGNED_MAX:r=y.INT8_UNSIGNED_MAX),N(n,["PgChar","MySqlChar","SingleStoreChar"])&&(r=n.length,o=!0),N(n,["PgBinaryVector"])&&(a=/^[01]+$/,r=n.dimensions);let l=t===!0||t!=null&&t.string?e.coerce.string():e.string();return l=a?l.regex(a):l,r&&o?l.length(r):r?l.max(r):l}function Ms(n){return ri(n)?Zs(n):ks(n)}function js(n,e,t,r){const a={};for(const[o,l]of Object.entries(n)){if(!S(l,v)&&!S(l,b)&&!S(l,b.Aliased)&&typeof l=="object"){const _=ri(l)||Ys(l)?Ms(l):l;a[o]=js(_,e[o]??{},t,r);continue}const g=e[o];if(g!==void 0&&typeof g!="function"){a[o]=g;continue}const m=S(l,v)?l:void 0,h=m?Qs(m,r):w.any(),u=typeof g=="function"?g(h):h;t.never(m)||(a[o]=u,m&&(t.nullable(m)&&(a[o]=a[o].nullable()),t.optional(m)&&(a[o]=a[o].optional())))}return w.object(a)}const Qa={never:n=>{var e,t;return((e=n==null?void 0:n.generated)==null?void 0:e.type)==="always"||((t=n==null?void 0:n.generatedIdentity)==null?void 0:t.type)==="always"},optional:n=>!n.notNull||n.notNull&&n.hasDefault,nullable:n=>!n.notNull},K=(n,e)=>{const t=Ms(n);return js(t,{},Qa)};V("sessions",{sid:f("sid").primaryKey(),sess:Ei("sess").notNull(),expire:C("expire").notNull()},n=>[Aa("IDX_session_expire").on(n.expire)]);const z=V("users",{id:f("id").primaryKey().default(A`gen_random_uuid()`),email:f("email").unique(),firstName:f("first_name"),lastName:f("last_name"),profileImageUrl:f("profile_image_url"),role:f("role").notNull().default("student"),language:f("language").notNull().default("en"),createdAt:C("created_at").defaultNow(),updatedAt:C("updated_at").defaultNow()}),Ma=V("contacts",{id:f("id").primaryKey().default(A`gen_random_uuid()`),name:I("name").notNull(),email:I("email").notNull(),phone:I("phone"),subject:I("subject").notNull(),message:I("message").notNull(),createdAt:C("created_at").defaultNow().notNull()}),ee=V("homework",{id:f("id").primaryKey().default(A`gen_random_uuid()`),studentId:f("student_id").notNull().references(()=>z.id),tutorId:f("tutor_id").notNull().references(()=>z.id),title:I("title").notNull(),description:I("description").notNull(),instructions:I("instructions"),subject:f("subject").notNull(),difficulty:f("difficulty").notNull().default("medium"),dueDate:C("due_date"),status:f("status").notNull().default("pending"),isCompleted:G("is_completed").notNull().default(!1),completedAt:C("completed_at"),grade:vi("grade"),feedback:I("feedback"),createdAt:C("created_at").defaultNow().notNull(),updatedAt:C("updated_at").defaultNow().notNull()});V("homework_files",{id:f("id").primaryKey().default(A`gen_random_uuid()`),homeworkId:f("homework_id").notNull().references(()=>ee.id),fileName:I("file_name").notNull(),fileUrl:I("file_url").notNull(),fileType:f("file_type").notNull(),uploadedBy:f("uploaded_by").notNull().references(()=>z.id),purpose:f("purpose").notNull(),createdAt:C("created_at").defaultNow().notNull()});const ja=V("questions",{id:f("id").primaryKey().default(A`gen_random_uuid()`),studentId:f("student_id").notNull().references(()=>z.id),subject:f("subject").notNull(),title:I("title").notNull(),content:I("content").notNull(),isAnswered:G("is_answered").notNull().default(!1),answer:I("answer"),answeredAt:C("answered_at"),answeredBy:f("answered_by").references(()=>z.id),priority:f("priority").notNull().default("medium"),createdAt:C("created_at").defaultNow().notNull(),updatedAt:C("updated_at").defaultNow().notNull()});V("tutor_availability",{id:f("id").primaryKey().default(A`gen_random_uuid()`),tutorId:f("tutor_id").notNull().references(()=>z.id),date:C("date").notNull(),startTime:f("start_time").notNull(),endTime:f("end_time").notNull(),isAvailable:G("is_available").notNull().default(!0),notes:I("notes"),createdAt:C("created_at").defaultNow().notNull()});const Xa=K(Ma).pick({name:!0,email:!0,phone:!0,subject:!0,message:!0}).extend({email:w.string().email("Please enter a valid email address"),name:w.string().min(1,"Name is required"),subject:w.string().min(1,"Subject selection is required"),message:w.string().min(1,"Please describe your math goals")});K(ee).pick({studentId:!0,tutorId:!0,title:!0,description:!0,instructions:!0,subject:!0,difficulty:!0,dueDate:!0});const Ga=K(ja).pick({subject:!0,title:!0,content:!0,priority:!0});K(ee).pick({isCompleted:!0,grade:!0,feedback:!0}).partial();export{Oa as S,Ga as a,Xa as i};
