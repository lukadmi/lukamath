import{r as M,u as P,a as R,j as e,C as g,b as x,d as j,e as f,B as o,L as c,t as p}from"./index-DKjY2bf7.js";import{u as F,z as l,t as T}from"./index-C2yVVeig.js";import{I as m}from"./input-DYYZNWvm.js";import{L as r}from"./label-BMsvFg_p.js";import{S as v,a as N,b,c as y,d as i}from"./select-Cul7_U12.js";import{u as _}from"./index-mrbeaKlW.js";import{G as A}from"./globe-roznitLF.js";import"./utils-km2FGkQ4.js";const S=l.string().min(1,"This field is required").max(50,"Name must be less than 50 characters"),k=l.string().email("Please enter a valid email address"),H=l.enum(["middle-school","high-school","statistics","linear-algebra","sat-act"],{required_error:"Please select a math level"}),V=l.enum(["en","hr"],{required_error:"Please select a language"}),G=l.object({firstName:S,lastName:S,email:k,language:V,mathLevel:H,parentEmail:k.optional().or(l.literal("")),goals:l.string().min(10,"Please describe your math learning goals (at least 10 characters)")});function $(){const[L,w]=M.useState(!1),{toast:h}=P(),{language:s,setLanguage:C,t:n}=R(),a=F({resolver:T(G),defaultValues:{firstName:"",lastName:"",email:"",language:"en",mathLevel:void 0,parentEmail:"",goals:""}}),d=_({mutationFn:async t=>{const u=await fetch("/api/register",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!u.ok){const z=await u.json();throw new Error(z.message||"Registration failed")}return u.json()},onSuccess:()=>{p("registration_complete","conversion","student_registration",1),w(!0),h({title:s==="en"?"Registration Successful!":n("register.success_title"),description:s==="en"?"Welcome to LukaMath! Please check your email for next steps.":n("register.success_message")})},onError:t=>{h({title:s==="en"?"Registration Failed":"Registracija neuspješna",description:t.message||(s==="en"?"Something went wrong. Please try again.":"Nešto je pošlo po zlu. Molimo pokušajte ponovo."),variant:"destructive"})}}),E=t=>{p("registration_attempt","engagement",t.mathLevel,1),d.mutate(t)};return L?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:e.jsxs(g,{className:"w-full max-w-md",children:[e.jsx(x,{className:"text-center",children:e.jsx(j,{className:"text-2xl text-green-600",children:s==="en"?"Registration Complete!":n("register.success_title")})}),e.jsxs(f,{className:"space-y-4 text-center",children:[e.jsx("p",{className:"text-gray-600",children:s==="en"?"Thank you for joining LukaMath! Your registration has been submitted successfully.":"Hvala što ste se pridružili LukaMath-u! Vaša registracija je uspješno poslana."}),e.jsx("p",{className:"text-sm text-gray-500",children:s==="en"?"Luka will review your registration and contact you within 24 hours to schedule your first tutoring session.":"Luka će pregledati vašu registraciju i kontaktirati vas u roku od 24 sata za zakazivanje prve sesije podučavanja."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{asChild:!0,className:"w-full",children:e.jsx(c,{href:"/",children:s==="en"?"Return to Home":n("register.back_home")})}),e.jsx(o,{asChild:!0,variant:"outline",className:"w-full",children:e.jsx(c,{href:"/api/login",children:s==="en"?"Login to Your Account":"Prijavite se na vaš račun"})})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:e.jsxs(g,{className:"w-full max-w-2xl",children:[e.jsxs(x,{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(o,{variant:"ghost",size:"sm",onClick:()=>C(s==="en"?"hr":"en"),className:"text-blue-600 hover:text-blue-800",children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),s==="en"?"HR":"EN"]})}),e.jsx(j,{className:"text-3xl text-blue-900",children:s==="en"?"Join LukaMath":n("register.title")}),e.jsx("p",{className:"text-gray-600 mt-2",children:s==="en"?"Start your personalized math tutoring journey with expert guidance":n("register.subtitle")})]}),e.jsx(f,{children:e.jsxs("form",{onSubmit:a.handleSubmit(E),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"firstName",children:"First Name *"}),e.jsx(m,{id:"firstName",...a.register("firstName"),placeholder:"Enter your first name",className:"hover:scale-105 transition-transform"}),a.formState.errors.firstName&&e.jsx("p",{className:"text-red-500 text-sm",children:a.formState.errors.firstName.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"lastName",children:"Last Name *"}),e.jsx(m,{id:"lastName",...a.register("lastName"),placeholder:"Enter your last name",className:"hover:scale-105 transition-transform"}),a.formState.errors.lastName&&e.jsx("p",{className:"text-red-500 text-sm",children:a.formState.errors.lastName.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"email",children:"Your Email Address *"}),e.jsx(m,{id:"email",type:"email",...a.register("email"),placeholder:"student@example.com",className:"hover:scale-105 transition-transform"}),a.formState.errors.email&&e.jsx("p",{className:"text-red-500 text-sm",children:a.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"parentEmail",children:"Parent/Guardian Email (if under 18)"}),e.jsx(m,{id:"parentEmail",type:"email",...a.register("parentEmail"),placeholder:"parent@example.com",className:"hover:scale-105 transition-transform"}),a.formState.errors.parentEmail&&e.jsx("p",{className:"text-red-500 text-sm",children:a.formState.errors.parentEmail.message})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:s==="en"?"Preferred Language *":"Preferirani jezik *"}),e.jsxs(v,{value:a.watch("language"),onValueChange:t=>a.setValue("language",t),children:[e.jsx(N,{className:"hover:scale-105 transition-transform",children:e.jsx(b,{placeholder:s==="en"?"Select language":"Odaberite jezik"})}),e.jsxs(y,{children:[e.jsx(i,{value:"en",children:"English"}),e.jsx(i,{value:"hr",children:"Croatian (Hrvatski)"})]})]}),a.formState.errors.language&&e.jsx("p",{className:"text-red-500 text-sm",children:a.formState.errors.language.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:s==="en"?"Current Math Level *":"Razine matematike *"}),e.jsxs(v,{value:a.watch("mathLevel"),onValueChange:t=>a.setValue("mathLevel",t),children:[e.jsx(N,{className:"hover:scale-105 transition-transform",children:e.jsx(b,{placeholder:s==="en"?"Select your level":"Odaberite svoju razinu"})}),e.jsxs(y,{className:"text-left",children:[e.jsx(i,{value:"middle-school",className:"text-left justify-start",children:s==="en"?"Middle School Math":"Matematika za osnovnu školu (5.-8. razred)"}),e.jsx(i,{value:"high-school",className:"text-left justify-start",children:s==="en"?"High School Math":"Matematika za srednju školu (1.-4. razred)"}),e.jsx(i,{value:"statistics",className:"text-left justify-start",children:s==="en"?"Statistics":"Statistika"}),e.jsx(i,{value:"linear-algebra",className:"text-left justify-start",children:s==="en"?"Linear Algebra":"Linearna algebra"}),e.jsx(i,{value:"sat-act",className:"text-left justify-start",children:s==="en"?"SAT/ACT Prep":"Državna matura (priprema za testove)"})]})]}),a.formState.errors.mathLevel&&e.jsx("p",{className:"text-red-500 text-sm",children:a.formState.errors.mathLevel.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"goals",children:"Math Learning Goals *"}),e.jsx("textarea",{id:"goals",...a.register("goals"),placeholder:"Describe your math learning goals, areas you want to improve, or specific topics you need help with...",className:"min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 hover:scale-105 transition-transform"}),a.formState.errors.goals&&e.jsx("p",{className:"text-red-500 text-sm",children:a.formState.errors.goals.message})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(o,{type:"submit",disabled:d.isPending,className:"flex-1 hover:scale-105 transition-transform",children:d.isPending?"Creating Account...":"Register for LukaMath"}),e.jsx(o,{asChild:!0,variant:"outline",className:"flex-1 hover:scale-105 transition-transform",children:e.jsx(c,{href:"/",children:"← Back to Home"})})]}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Already have an account?"," ",e.jsx(c,{href:"/api/login",className:"text-blue-600 hover:underline",children:"Sign in here"})]})]})})]})})}export{$ as default};
